<!DOCTYPE html>
<html>
    <head>
        <title>Mark Railton :: Coming Soon</title>
        <link rel="stylesheet" type="text/css" href="css/style.css">
    </head>
    <body>
        <div id="container">
            <div id="content">
                <h1>Mark Railton</h1>
                <h3>Web Developer</h3>
            </div>
            <div class="vertical-line"></div>
            <div id="contact">
                marksrailton@gmail.com <br/>
                twitter.com/railto <br />
                https://ie.linkedin.com/in/markrailton <br />
            </div><br />
            <div id="subscribe-section">
                <p>New site coming soon!</p>
                <div id='register-success' hidden>
                    <p>
                        Thank you for signing up to receive my newsletter.  I promsie I will not spam you.
                    </p>
                </div>
                <div id='register-failure' hidden>
                    <p>
                        There was an error signing you up, please try again.
                    </p>
                </div>
                <form class="subscribe" id="subscribe-form">
                    <input type='email' class="field" id='email' name='email' required placeholder="Subscribe to newsletter" />
                    <input type='submit' class="submit" value='subscribe' />
                </form>
            </div>
        </div>
        <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            $('#subscribe-form').on('submit', function(e) {
                $("#register-failure").hide();
                $("#register-success").hide();
                e.preventDefault();
                var formData = {
                    'email' : $('#email').val()
                }
                $.ajax({ url: '/subscribe.php', dataType: 'json', type: 'POST', data: formData,
                    success: function(json) {
                        if (json.success) {
                            $("#subscribe-form").hide();
                            $("#register-failure").hide();
                            $("#register-success").show();
                        } else {
                            $("#register-failure").show();
                        };
                    }
                });
            })
        </script>
    </body>
</html>